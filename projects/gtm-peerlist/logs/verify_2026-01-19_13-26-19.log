I've completed the verification and updated both files. Here's a summary of the changes:

## prd.json - Added 15 new user stories:

**Functional stories:**
- `6.3` - Case study visibility toggle (is_public)
- `6.4` - Testimonial-case study linking
- `6.5` - Metrics JSON validation
- `7.1` - Edge case handling for duplicate slugs
- `7.2` - Case study deletion with linked testimonials
- `7.3` - Inquiries to inactive agencies
- `7.4` - Empty search results UX

**Technical stories:**
- `8.1` - Image optimization worker
- `8.2` - Agency verification email worker
- `8.3` - Analytics aggregation worker

**UI stories:**
- `4.8` - Agency verification badge display
- `5.7` - View Public Profile link from dashboard
- `5.8` - Case study list management page
- `5.9` - Testimonial list management page

## requirements.md - Added sections:

1. **Edge Cases & Error Handling** - Detailed table matching PRD Section 9
2. **Foreign Key Behaviors** - ON DELETE behavior for all relationships
3. **Slug Generation Rules** - Step-by-step algorithm with reserved slugs list
4. **Notification Emails** - Inquiry notification and verification status emails

The generated documents now comprehensively cover all requirements from the original PRD.
